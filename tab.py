# Table 9-5
# (len, bits) -> (TotalCoeff, TrailingOnes)
nC01 = {(1, 1): (0, 0),
        (6, 0b0001010): (1, 0),
        (2, 0b01): (1, 1),
        (8, 0b00000111): (2, 0),
        (6, 0b000100): (2, 1),
        (3, 0b001): (2, 2),
        (9, 0b00000111): (3, 0),
        (8, 0b0000110): (3, 1),
        (7, 0b000101): (3, 2),
        (5, 0b00011): (3, 3),
        (10, 0b0000000111): (4, 0),
        (9, 0b000000110): (4, 1),
        (8, 0b0000101): (4, 2),
        (6, 0b000011): (4, 3),
        (11, 0b00000000111): (5, 0),
        (10, 0b0000000110): (5, 1),
        (9, 0b000000101): (5, 2),
        (7, 0b0000100): (5, 3),
        }

nC23 = {}
nC4567 = {}
nC8 = {}
nC_1 = {}
nC_2 = {}


def sel_nCTab(nC):
    if 0 <= nC < 2:
        return nC01
    elif 2 <= nC < 4:
        return nC23
    elif 4 <= nC < 8:
        return nC4567
    elif 8 <= nC:
        return nC8
    elif nC == -1:
        return nC_1
    elif nC == -2:
        return nC_2
    else:
        raise "cannot find tab for nC=%d" % (nC)
